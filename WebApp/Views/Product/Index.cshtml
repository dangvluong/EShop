@model IEnumerable<Product>
    
    <div class="row products-page mt-5">
        <div class="col-3">
           <partial name="_Category" model="@ViewBag.categories"/>
        </div>
        <div class="col-9">
            <div class="row">

                @foreach (Product item in Model)
                {
                    <div class="col-md-3 lastest-products simpleCart_shelfItem">
                        <a href="/product/detail/@item.ProductId">
                            <img src="@(item.ProductImages.Count == 0 ? "#" : $"/images/{item.ProductImages[0].ImageUrl}")" alt="@item.ProductName" class="lastest-product-images">
                            <p>@item.ProductName</p>
                        </a>                       
                            @{
                                if (item.PriceSaleOff == 0)
                                {
                                    <span class="">
                                        @item.Price
                                    </span>
                                }
                                else
                                {
                                    <del>@item.Price</del> <span class="">@item.PriceSaleOff</span>
                                }
                            }                       
                    </div>
                }
            </div>
            <div class="d-flex">
                <pagination total-page="@ViewBag.totalPage" current-page="@ViewContext.RouteData.Values["id"]" url="/product/index/{0}"></pagination>
            </div>
        </div>
    </div>
   

@*<div class="container">
<div class="row">
    @foreach (var item in Model)
    {
        <div class="col-3">
            <a href="/product/detail/@item.ProductId">
                <img src=@(item.ProductImages.Count == 0 ? "#" : $"/images/{item.ProductImages[0].ImageUrl}") alt="@item.ProductName" class="img-fluid" />
                <p>@item.ProductName</p>
                <p>@item.ProductId</p>
            </a>
            @{
                if (item.PriceSaleOff == 0)
                {
                    <p>Price: <b>@item.Price</b></p>
                }
                else
                {
                    <p>Price: <del>@item.Price</del> <b>@item.PriceSaleOff</b> </p>
                }
            }

        </div>
    }
</div>
<div class="d-flex">
    <pagination total-page="@ViewBag.totalPage" current-page="@ViewContext.RouteData.Values["id"]" url="/product/index/{0}"></pagination>-->
<ul class="pagination mx-auto">
    @for (int i = 1; i < ViewBag.totalPage; i++)
    {
        <li class="page-item"><a href="/home/index/@i" class="page-link">@i</a></li>
    }
</ul>
</div>
</div>
<script>
//console.log(@(ViewContext.RouteData.Values["id"] == null ? 0 : @Convert.ToInt32(ViewContext.RouteData.Values["id"]) - 1));
//$($('.page-item')[@(ViewContext.RouteData.Values["id"] == null ? 0 : @Convert.ToInt32(ViewContext.RouteData.Values["id"]) - 1)]).addClass('active');
</script>*@
